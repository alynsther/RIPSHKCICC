BREGA, Libya—Rebel fighters rallied to the cause when reports of the fall of this seaside oil-refinery town to pro-Gadhafi forces reached other cities in eastern Libya early Wednesday morning.

Brega would have been the second city to fall this week after the tiny seaside settlement of Ras Lanuf, which lies west of Brega, fell to regime forces without a fight on Sunday.

But rebels put up a fight this time around.

At a school in Benghazi Wednesday morning, where rebel officers were training new military recruits, tempers flared when the rebel army's drill sergeant tried teaching the volunteers to march in unison.

"Give us guns, send us to Brega, we're wasting our day learning to march while our families are dying at the front," said one recruit.

Rebel fighters headed for the front in Brega from Benghazi and other eastern cities early in the day. As they passed through the city of Ajdabiya, the last major rebel-held city before the front lines in Brega, crowds of well wishers cheered them on. Young boys shoveled loaves of bread, cheese wedges, and water bottles into the passing cars' open windows, nourishment for the battle ahead.

The fighters came in pickup trucks, brandishing AK-47s, handguns, and old hunting rifles. Some of the trucks had heavy machine guns, or large caliber anti-aircraft guns. Men in a Toyota Camry waved rocket propelled grenade cartridges out the window and flashed two-fingered victory signs to rousing cheers.

The 70 kilometer drive from Ajdabiya to Brega was tense. Checkpoints along the road were fortified with anti-aircraft guns that fired off occasional bursts into the air. At a crossroads just outside of town, waiting motorists scurried for cover in the dunes on the shoulder of the road when a pro-Gadhafi fighter jet flew overhead. It dropped its payload in the distance, on the town's southern edge. A cloud of smoke and dust mushroomed into the air.

Gunmen and boys peaked over a dune, into Brega, contemplating their approach. Dozens of cars in a teeming parking lot glimmered in the distance.

"That's where the fighters park, before going to battle against Gadhafi's fighters," said  Ali Ramadan, a 65 year old resident of Brega, standing sentry on the town's edge with an assault rifle.

The battle for Brega began in the middle of the night when Pro-Gadhafi forces moved in and took control of the city's oil refinery and airport. Early in the morning they pressed on, taking the western half of the city while facing little resistance, according to witnesses. They took over the city's university including a strategic high point that gave them control of a central thoroughfare that splits the town and connects the country's main east-west highway to the sea.

Witnesses said the invasion force included about 80 Land Cruisers, each with four soldiers in it, and about 10 tanks.

As residents awoke to the invasion, they put up scattered but mostly ineffective resistance with small arms. Pro-Gadhafi forces took more ground and kept rebel gunmen at bay with artillery fire and air strikes by fighter jets that targeted sites where rebel forces were concentrated.

Around noon the tide of the battle began to turn as the first reinforcements began arriving from Benghazi, first by the dozens, then in the hundreds, according to witnesses. One witness put the size of the rebel army in Brega at about 500 fighters. The reinforcements brought heavy weapons with them, including 14.5 millimeter, truck mounted anti-aircraft guns. Well into the night cars filled with rebel fighters continued to stream west toward the frontline.

Still, the rebels' disorganization and inexperience showed in battle, said  Peter Bouckaert, Human Rights Watch's emergencies director who was with the rebels for much of the day.

"Everyone was doing their own thing, mostly volunteers showing up in small groups, fighting with their friend," Mr. Bouckaert said. "There was no command structure in place."

One group showed up with an anti-aircraft gun, but then spent 45 minutes trying to figure out how to work it, he said. "They didn't know how to load the bullets," said Mr Bouckaert.

Still, the rebel forces were victorious. By nightfall, the rebels had driven the pro-Gadhafi forces out of town. The government soldiers retreated to the town of Bishr, about 30 km west of Brega, residents of Brega said.

"We are winning because we have faith and believe in our cause of freedom," said  Khaled Kwafi, a rebel volunteer fighter who works for a chemical company in the city. "Our enemy is only fighting for money."

But Gadhafi's forces still have fight. As rebel fighters celebrated at a traffic circle near the entrance to the university, the last position held by the pro-Gadhafi forces, a lone fighter jet swooped down overhead and dropped a bomb just meters away from the celebrating rebels, according to witnesses, who said no one was injured in the strike.

—Muneef Halawa contributed to this article.