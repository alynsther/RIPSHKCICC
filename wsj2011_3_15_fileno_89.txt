AJDABIYA, Libya—The revolutionary government in Benghazi, which seized eastern Libya from Col. Gadhafi's regime in a bloody uprising last month, has pledged to draw the line here.

Ali Faraj Hammada, a bushy-bearded 34-year-old who leads the Ajdabiya's revolutionary committee, said the city had enough supplies to hold out for two months and was prepared for a long fight.

"We're deployed all over Ajdabiya—to take it, he'll need at least two months," Mr. Hammada said, as revolutionary commanders crowded into his office, wearing a mismatched collection of U.S. Army-pattern military fatigues, sports fleeces and, in one case, a colorful jacket inscribed "U.S. Marine Air Corps."

A few blocks away, in the city's police headquarters— where officers who switched to the revolution's side were working with rebel authorities—the mood was significantly less ebullient. "To be honest with you, there is no real preparation for the city's defense," said a police officer. "People are scared."

Some residents credited a sandstorm Sunday that obscured visibility for the fact that a bombing run on the city, while injuring at least three people, didn't cause any fatalities. "God himself has helped us—because of his intervention, the pilot failed to hit his targets," Abdeljalil Zwai exclaimed as he stood in by the water-filled crater.

Minutes later, a rebel pickup truck rolled up, its loudspeaker urging: "Disperse, disperse, do not stand in large groups, do not create a target for the planes." 

There were also threats from within the city. Some Ajdabiya residents supported Col. Gadhafi, and his agents were active here, revolutionary officials said.

Ragtag rebel militiamen cruised the streets in pickup trucks with mounted anti-aircraft guns, unloading random volleys into the sky whenever they thought they spotted government aircraft.

Even though Ajdabiya's residents prepared for the worst, most appeared to stay put, and there was little sign of an exodus to Benghazi. "The women are here, the children are here. Where shall we go? We'll stay here in our land, and die here if we must," said 40-year-old unemployed worker Ammar Ali as he stood in a bread line in one of Ajdabiya's handful of remaining bakeries.

Most shops and businesses in Ajdabiya, a city of 170,000 with cinderblock walls covered thick with revolutionary graffiti, were shuttered Monday.

The rebel militias, a mishmash of volunteers long on enthusiasm and short on military training, have been operating largely independent of the defected military units under rebel leader Abdel Fattah Younis's command. Only in recent days have groups of rebel volunteers paired up with professional officers.

At a base in Ajdabiya, the military men tried to impart basic skills, with mixed results: One rebel Sunday morning accidentally discharged a volley into the ground from his machine gun, and was toppled backwards by the recoil.

"The rebel volunteers are chaotic and disorganized, and scatter under attack – whereas we advance and retreat following orders," scoffed defected soldier Jalal al Shaari, who relaxed barefoot in the shade of his Soviet-made tank on the western approaches to Ajdabiya.

A checkpoint on the other end of the city was manned by 85-year-old Salem Rahil, who held aloft a rocket propelled grenade launcher without a grenade. Next to him, 21-year-old engineering student Mohamed Abdelghadi sat atop an anti-aircraft gun that he said he only learned how to operate four days earlier.

"They're killing our brothers, so I have to fight," Mr. Abdelghadi said. "We have been afraid of him for 42 years. Now is enough."

Late Monday afternoon, a government plane dropped leaflets on Ajdabiya, telling the residents that Col. Gadhafi's forces are coming to "liberate" the city. In response, rebels defiantly drove through Ajdabiya in ambulances, waving revolutionary flags and firing into the air.

—Muneef Halawa contributed to this article.