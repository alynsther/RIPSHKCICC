BAGHDADâ€”Clashes at a Baghdad prison following what the Iraqi government said was an escape attempt by al Qaeda-linked detainees left 17 people dead, including a top counterterrorism officer and the alleged mastermind of a bloody church siege last year. 

The incident happened late Saturday night inside the central sprawling Interior Ministry compound, which houses a number of prisons. 

U.S. troops and security contractors maintain a presence in the fortified compound in their capacity as advisers to the Iraqis, but it wasn't immediately known whether they were anywhere near the facility where the shootout occurred. 

The incident could prove an embarrassment for Prime Minister Nouri al-Maliki. Mr. Maliki is running the defense and interior ministries in an interim capacity, because of a lack of agreement on nominees for these portfolios more than four months since an unwieldy coalition government was assembled at the end of last year.

It again highlights the challenges facing Iraq's security forces as Mr. Maliki remains under intense pressure from both Iran and its Shiite allies in government, such as the movement of militant cleric Moqtada al-Sadr, not to agree to any U.S. military presence in Iraq beyond the end of 2011, when remaining American soldiers are scheduled to depart.

"We must not allow failure or sabotage in the security portfolio," said Mr. Maliki in a statement Sunday ordering an investigation into the incident.

In a news conference earlier Sunday, an Iraqi military spokesman said the detainees, who included a senior al Qaeda-linked militant called Huthaifa al-Battawi, were awaiting their final appearances before a court that was expected to issue death sentences for most of them for their alleged roles in several high-profile attacks. The attacks included the Baghdad church siege at the end of November in which 68 people died, which triggered a fresh exodus of Iraq's beleaguered Christian community.

The spokesman, Maj. Gen. Qassim Atta, said Saturday's incident was "preplanned" and started with a clash between Mr. Battawi and his guards, who had gone to fetch him from his cell at the request of Brig. Gen. Muayad al-Saleh, a senior counterterrorism officer. 

Gen. Saleh was among six officers killed in the shootout, according to Maj. Gen. Atta, who provided no other significant details.

Ahmed Abu Ragheef, a senior security official at the same news conference, said Mr. Battawi had attempted suicide before the botched prison break.

Another security official said Mr. Battawi overpowered the guard and stole his weapon. Mr. Battawi and other detainees then stripped other wardens of their weapons and came out to the first security perimeter, where they killed six officers including Brig. Gen. Saleh, the official said.

He said the escaping prisoners were shot at by other guards as they attempted to leave the building, prompting them to go back inside. Reinforcements arrived, triggering a gunbattle that ended when an Iraqi SWAT force stormed the building and killed 11 prisoners, the official said.

"There are major shortcomings and repeated mistakes in dealing with detainees," said the official, who blamed the incident on the negligence of the prison guards.

In January, 12 insurgents linked to al Qaeda escaped from an Iraqi prison in the southern city of Basra. Last year, eight suspected al Qaeda prisoners broke out of a facility near Baghdad's airport that was still partially guarded by the U.S. military. None has yet been recaptured. 