BERLIN—The German government resolved to start withdrawing troops from Afghanistan by year end and tempered expectations for the conditions it will leave behind, saying its involvement in a war that has been deeply unpopular domestically will be guided by "very realistic goals" to ensure the country doesn't slip into chaos.

Chancellor Angela Merkel's cabinet set the deadline as it extended the German deployment in Afghanistan for another year. The mandate kept the maximum number of German soldiers allowed in Afghanistan at 5,350, though the actual number of troops deployed isn't likely to rise above the current level of around 4,600.

"We are confident we can reduce the [German military's] presence by the end of 2011 as we hand over responsibility for security" to Afghan military and police forces, Foreign Minister Guido Westerwelle said. The government plans to withdraw the last German troops in 2014.

The timeline roughly mirrors that of the U.S. and other major North Atlantic Treaty Organization coalition partners, but suggests Washington could face resistance if it shifts course and asks its allies to commit more troops or undertake more risky missions in Afghanistan over the next few years.

The deadline can be met only if local security forces are on track to assume responsibility in 2014 for the parts of northern Afghanistan currently overseen by German troops, said Steffen Seibert, a spokesman for Ms. Merkel.

"Of course, a timetable like the one in this mandate also gives some urgency to the Afghan government to expedite and complete its work on military and political reforms," Mr. Seibert said.

The German military operates mainly in the Kunduz province of northern Afghanistan, long one of the most stable regions in the country but the site of a marked increase in insurgent activity over the past two years.

Germany's schedule for withdrawing its troops—the third-largest force in the U.S.-led NATO coalition—is similar to President Barack Obama's plan to remove some troops this July and have the bulk of U.S. forces out of the country by 2014.

The U.K. is the second-largest contributor to the NATO mission, with about 10,000 troops in Afghanistan. British Prime Minister David Cameron said during a visit to the country in December that bringing some troops home in 2011 was "possible," but Defense Secretary Liam Fox seemed to temper those expectations during a visit this month, saying it was difficult to predict U.K. troop levels in Afghanistan over the next two years.

The German cabinet's agreement will be put to a vote in parliament on Jan. 28 and is expected to pass easily because the most powerful opposition party, the Social Democrats, has said it will support it on the basis of the commitment to begin withdrawals this year.

The war is deeply unpopular in Germany, with polls consistently showing that a majority of voters want German troops withdrawn from Afghanistan. The deployment has also brought a very public end to the careers of at least two high-ranking politicians.

In Nov. 2009 a member of Ms. Merkel's cabinet, Franz Josef Jung, resigned amid allegations that the German military had withheld information about an airstrike in Kunduz earlier that fall, while Mr. Jung was defense minister.

The Sept. 4 airstrike carried out by U.S. planes was ordered by a German commander and killed roughly 100 people. The military initially said all the casualties were Taliban fighters, but a NATO investigation later concluded that 30 to 40 civilians were among those killed, and German media reported that German military officials tried to cover up those deaths.

In June, President Horst Köhler abruptly resigned after suggesting in a radio interview that Germany might go to war to defend its business interests—a risky assertion in a nation that avoids comparisons to its militaristic past at all costs. Mr. Köhler's comments were condemned by left-leaning opposition parties, but Ms. Merkel supported him publicly and his resignation was unexpected. Mr. Köhler said the presidency—a largely ceremonial post in Germany—had been damaged by the disrespectful criticism following his remarks.