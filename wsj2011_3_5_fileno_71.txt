A growing number of states are renouncing some of the long prison sentences that have been a hallmark of the war on drugs and instead focusing on treatment, which once-skeptical lawmakers now say is proven to be less expensive and more effective.

Kentucky on Thursday became the latest to make the shift when Gov. Steve Beshear signed into law a measure increasing spending on rehabilitation programs and intensive drug testing. The law also reduces penalties for many drug offenses and may allow some traffickers and users of smaller amounts of drugs to avoid prison.

Delaware, Florida, Indiana, Massachusetts and Pennsylvania are among those that have pending bills to reduce penalties for drug offenders, in some cases by directing defendants into treatment programs. Similar laws have taken effect in South Carolina, Colorado and New York in recent years. States have maintained stiff penalties for more-serious drug crimes. 

While the changes are part of broader belt-tightening efforts, they also reflect a growing belief among state lawmakers that prosecuting drug offenders aggressively often fails to treat their underlying addiction problems and can result in offenders cycling in and out of prisons for yearsâ€”a critique long voiced by groups that advocate in favor of defendants' rights.

"If you just throw everyone in jail, it's terribly expensive and they get out and they are in the same boat," said Tom Jensen, a Republican state senator in Kentucky who voted in favor of the law. 

He said he had long "bought into the tough-on-crime concept" and adapting to a more rehabilitative model has been "an education process."

Lawmakers, Mr. Jensen said, had access to data indicating that drug offenders are less likely to reoffend if they receive intensive community treatment in lieu of prison.

But others argue such changes send the wrong message.

"You need to have serious consequences or repercussions in place if people use heroin, Oxycontin" and other drugs, said Scott Burns, executive director of the National District Attorneys Association.

The Pew Center on the States, a nonpartisan group that advises on corrections and sentencing policy, assembles state-by-state data that it has shared with legislators. Pew presented research indicating some community supervision and treatment programs have significantly reduced recidivism rates for substance abusers and nonviolent offenders.

"We know so much more today than we did 30 years ago when we started down the prison-building path about what works to stop the cycle of crime and addiction," said Adam Gelb, a senior policy analyst at Pew.

Some who have seen Pew's figures, however, aren't persuaded. "Crime will go up in five to 10 years and people will wonder why," said Aaron Negangard, chairman of the Indiana Prosecuting Attorneys Council. "It's because we are letting too many people out of prison." 

The state measures mark a sharp retreat from the war on drugs, which gathered steam in the 1980s and '90s with mandatory-minimum and three-strikes prison sentences that resulted in some drug offenders being locked up for decades. Drug arrests nationwide climbed from about 580,000 in 1980 to about 1.6 million in 2009, according to the Federal Bureau of Investigation. Although some states started rethinking drug punishment before the recession, many more states have come on board in the past two years.

In 2007, Texas began shifting more drug offenders away from prison, which helped hold down the inmate population. The changes cost $241 million, less than half what the state anticipated it would have spent to build three new prisons. The impact on the crime rate isn't clear.

While putting offenders on probation is far cheaper than sending them to prison, the cost differences may narrow in states that plan to spend more on community-supervision and treatment programs.

 Write to  Nathan Koppel at nathan.koppel@wsj.com and Gary Fields at gary.fields@wsj.com 