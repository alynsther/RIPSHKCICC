BEIJING—U.S. Defense Secretary Robert Gates held talks with commanders of China's nuclear arsenal, as he wrapped up a trip to Beijing that he called a success despite China's defiant move to test its new stealth fighter. 

Mr. Gates on Wednesday visited the headquarters of the People's Liberation Army's Second Artillery Corps, which commands China's nuclear missile force. In brief comments to reporters afterward, Mr. Gates said he discussed nuclear strategy with military leaders there and secured an agreement from a senior Chinese general to visit the U.S.

"I felt it was a pretty wide-ranging conversation and pretty open," Mr. Gates said in Beijing afterward. He said Gen. Jing Zhiyuan, commander of China's nuclear arms, had accepted his invitation to visit U.S. Strategic Command in Omaha, Nebraska, which oversees American nuclear weapons. U.S. officials say such visits are important to prevent dangerous misunderstandings.

China's foreign and defense ministries didn't respond to requests for comment. 

Mr. Gates pronounced his trip to China a success, saying he had expected evolutionary progress in building the military-to-military relationship, rather than headline-grabbing breakthroughs.

But the visit also exposed divisions in the Chinese government about pursuing closer relations with the Pentagon. The People's Liberation Army, or PLA, conducted its test flight of the J-20 stealth fighter just hours before Mr. Gates met with Chinese President Hu Jintao on Tuesday—a brash display of military might that fueled doubts about the extent of Mr. Hu's authority just a week before his state visit to the U.S.

Mr. Gates on Wednesday confirmed the earlier account of a U.S. defense official that China's civilian leadership didn't seem to know about the J-20 test before he asked Mr. Hu about it in Tuesday's meeting. "The civilian leadership seemed surprised by the test and assured me it had nothing to do with my visit," Mr. Gates said.

China's state media had largely sidestepped reports of runway tests of the J-20 over the last several weeks, but on Wednesday they gave prominent coverage to the test flight. China Central Television aired photos of the J-20 in flight, and carried the first public comments by China's military on the episode. Gen. Guan Youfei, deputy director of the foreign affairs office of the Ministry of National Defense, echoed Mr. Hu's remarks that the test flight wasn't aimed at any country and wasn't related to Mr. Gates' visit. Mr. Guan said the test was part of a "normal working schedule."

Mr. Gates' nuclear talks Wednesday represented an improvement over the silence between the two sides last year, when China's military refused to talk to the U.S. in protest over its weapons sales to Taiwan. But the latest discussions didn't appear to go beyond previous advances the two sides have achieved.

Gen. Xu Caihou, a senior officer who is one of two vice chairmen of the Central Military Commission that oversees the PLA, visited U.S. Strategic Command in October 2009. And former U.S. Defense Secretary Donald Rumsfeld visited the Second Artillery headquarters in 2005.

U.S. officials said Mr. Gates' visit was important as a part of a renewed effort to convince the Chinese military to be more open about its nuclear arsenal. Chinese officials have been reluctant to discuss the subject, potentially because they have been nervous about revealing any new details about the size of their arsenal, U.S. defense officials have said.

Although Mr. Gates appeared to acknowledge that there were some in the Chinese military skeptical of building ties with the Pentagon, he also emphasized that the military leaders he sat down with were open to improving ties.

There "are those who have issues, possibly, but I certainly didn't meet them on my trip," he said.