MIAMI—Florida's legislature passed a bill that aims to crack down on the notorious "pill mills" that have made the state the epicenter of illegal prescription-drug sales in the country.

The bill, which passed both the House and Senate unanimously on Friday, stiffens penalties for doctors who overprescribe medication and for individuals who improperly set up pain-management clinics. It also tightens reporting requirements to a soon-to-be-created drug-monitoring database.

Republican Gov. Rick Scott, who had been lambasted by critics in and outside of the state for his opposition to the database, plans to sign the measure into law, said spokesman Brian Burgess.

"To demonstrate his commitment to fighting the pill-mill problem," Mr. Burgess added, the governor made an appearance in the House chamber as lawmakers debated the bill on Friday night.

Pill mills—dubious storefront operations that dispense painkillers like oxycodone without conducting medical examinations of buyers—have proliferated in Florida in recent years. Law-enforcement officials say the problem has stemmed in part from poor regulation.

The bill bars physicians from dispensing painkillers in their offices or clinics, though certain exceptions were carved out, including for surgeons and hospices. And it shortens the deadline to report prescriptions to the drug database to seven days from 15.

Mr. Scott had previously called for canceling the database, citing concerns with patient privacy and the potential for it to require state funding (though such funding is prohibited under the 2009 law that set up the program). His opposition triggered withering criticism from officials in Appalachian states that say they are getting flooded with illegally bought pills from Florida.

Partly to address the governor's privacy worries, lawmakers inserted language in the bill requiring that database administrators undergo FBI background checks. In addition, under the 2009 measure, law enforcement can only access the database as part of an active investigation.

Mr. Scott "still has concerns about the database but believes his rule-making authority and oversight will help avoid problems," Mr. Burgess said.

The prescription-monitoring program is expected to start functioning on Aug. 28, according to Greg Giordano, chief legislative assistant for Republican state Sen. Mike Fasano, who sponsored the 2009 law and the current pill-mill legislation. He said $1.3 million in private funds has been raised for the database—enough to cover its setup costs and 18 months of operation.

That program, coupled with the enforcement measures in the new law, will help Florida begin to stamp out its pill mills, said Republican state Attorney General Pam Bondi. Her message to the people running them: "Pack your bags and get out of our state, or you're going to prison."

In March, she and Mr. Scott announced another initiative: a "pill mill strike force" that will pull staff and resources from various state agencies to combat prescription-drug abuse. The effort was launched with $800,000 in federal grant money. For the coming fiscal year, the legislature has allocated an additional $3 million, said Steve Casey, executive director of the Florida Sheriffs Association.

Law enforcement can use the help. According to the sheriffs association, major-crimes units typically report that at least half of their investigations are linked in some way to prescription drugs. Among the examples they cite are pharmacy robberies and drug deals gone awry.

Officials in Appalachian states welcomed the news that Florida was poised to enact a new pill-mill law. "This is another weapon in the battle against this problem," said Democratic Lt. Gov. Daniel Mongiardo of Kentucky, who had criticized Mr. Scott's previous opposition to the drug-monitoring program. But lawmakers "have to continue on," he said. "You can't rest."