KABUL—Gunshots and an explosion ripped through a lightly guarded Kabul supermarket popular with Westerners Friday, killing at least eight people—including three foreign women—in a rare insurgent attack targeting the city's expatriate community.

A child was among the dead, its small body carried off by a fireman wrapped in an advertising poster that had once lined the supermarket's walls. Afghan officials said they believed the blast was caused by a suicide bomber.

The strike on the Finest supermarket was the latest in a spate of insurgent attacks over the past month in Kabul, a city that remained relatively calm through the second half of last year, even as violence spread across Afghan areas previously untouched by the Taliban insurgency.

The Taliban, which took credit for the attack, recently said they have decided to strike more frequently at Kabul, the only part of the country were Afghan forces are in charge of security. In the rest of the country, coalition forces lead security efforts. 

 Western officials have repeatedly touted the city's relative safety as a sign of progress in the fight against the Taliban. Just on Tuesday, coalition commander U.S. Gen. David Petraeus wrote in a letter to allied service members outlining the coalition's achievements that "despite occasional attacks, Kabul Province enjoyed impressive security throughout the latter half of 2010."  

Friday's strike was also the first major attack on foreigners in Kabul in several months. The devastated supermarket was located at a heavily trafficked intersection in Kabul's tony Wazir Akbar Khan neighborhood, an area thick with Americans and other Westerners. The supermarket is a few hundred yards from the heavily fortified British embassy, and from several other foreign diplomatic compounds.

The nationalities of the foreign casualties were not immediately clear, although agents from the U.S. Federal Bureau of Investigation arrived at the scene soon after the blast, saying they had indications Americans were among those killed. The agents did not elaborate.

"We are working with our Afghan partners to confirm whether any other American citizens may have been involved," said U.S. Embassy spokeswoman Caitlin Hayden in a statement.

About 50 feet up the street from the supermarket, a tailor's shop also had its windows blown out. The protective metal grate that covered the shop's glass front was bent and twisted, and merchandise inside strewn about. Officials said they did not know if there had been a separate explosion there, or if the damage had been caused by the shockwave from the blast in the supermarket.

   The devastation inside the Finest supermarket was far worse. A small fire burned for some time after the blast. Shelves and were blown over, leaving the store littered with merchandise favored by its Western clientele: broken and splattered jars of Nutella, piles of Duncan Hines Moist Deluxe Dark Chocolate Fudge cake mix, and bottles of Hydroxycut, an American-made weight loss supplement.

Those caught inside during the attack said they heard what they believed were a few gunshots before the explosion.

"The shots went right by me—they went right by my head," said a burly Canadian who gave his name as David. He had a puncture wound in his chest and had struggled out of the store carrying a Chinese woman who had a pair of bloody holes in her ankle, which appeared to be broken. Both were soon bundled by other foreigners into a van and driven to a nearby hospital.  

Two Afghan insurgent groups offered competing claims of credit for Friday's attack: the Taliban and Hezb-i-Islami of warlord Gulbuddin Hekmatyar, an allied but far smaller and relatively more moderate group.

The Taliban's spokesman, uncharacteristically, was at first not aware of the blast when contacted by phone; it was another 20 minutes or so before he took credit. By then, he was saying the attack was aimed at the local chief of the private security formerly known as Blackwater Worldwide, who the insurgents believed was in the store at the time. 

The company, which is now called Xe Services, is reviled in many parts of the Muslim world for the behavior of its staff in Iraq. It was singled out Friday because it is an "invader" and "protects the other invaders," said the Taliban spokesman, Zabiullah Mujahid.

Xe, based in North Carolina, did not immediately respond to requests for comment. 

The U.S. and British embassies said all their personnel were accounted for; the U.N. said it was still trying to get in touch with its staff, which is far larger and more spread out.

 Write to  Matthew Rosenberg at matthew.rosenberg@wsj.com 