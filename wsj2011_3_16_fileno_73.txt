WASHINGTON—The House approved a stopgap bill Tuesday to keep the government funded for three additional weeks. But the 271-158 vote revealed splits in both parties and suggested that reaching a longer-term deal remained difficult.

Fifty-four Republicans, including several prominent conservatives, voted to oppose the measure, which cuts $6 billion from this year's spending.

A similar split is shaping up in the Senate, which is expected to pass the measure on Wednesday or Thursday. Sens. Jim DeMint (R., S.C.) and Marco Rubio (R., Fla.), two stars of the conservative movement, said they would oppose the bill.

The new measure, the sixth such stopgap bill, would fund the government until April 8. Many government operations would be suspended after that date unless Congress passed a new funding mechanism.

House conservatives complained that spending was being handled piecemeal and that the bill omitted several policy-related provisions, or "riders." These included measures to defund the new health law and to cut money for Planned Parenthood Federation of America. The group provides abortions as well as other health services for women, though tax dollars do not pay for abortions.

"By giving liberals in the Senate another three weeks of negotiations, we will only delay a confrontation that must come," said Rep. Mike Pence (R., Ind.) in announcing his no vote. "Nobody wants a government shutdown, but unless we take a stand, we will shut down the future for our children and grandchildren."

In an effort to win over conservative Republican lawmakers backed by tea-party groups, Republican leaders stressed they would press the White House and the Democratic-controlled Senate to agree to much deeper cuts for the remainder of the fiscal year ending Sept. 30.

"Listen, I understand some of our members want to do more," said House Speaker John Boehner (R., Ohio). "But what is it in the bill they disagree with? Nothing. Nothing."

Although Mr. Boehner retained the support of most Republicans, the vote signaled that more GOP lawmakers could break from the leadership if the funding plan negotiated for the full fiscal year excluded riders or did not cut spending enough to satisfy conservatives.

Rep. Rob Woodall (R., Ga.) signaled that although he was voting for the three-week measure, he would push for policy riders in future funding legislation. "If you think I'm done trying to defund Planned Parenthood…you're mistaken. If you think I'm done ripping out every nickel in the budget for ObamaCare, you're mistaken," he said.

To raise the odds of passage, Republicans crafted the bill to include cuts acceptable to some Democrats. Among them were $200 million from wildfire-suppression efforts and $200 million in technology funds for the Social Security Administration.

Still, Democrats face their own divisions, as 104 Democrats opposed Tuesday's bill, arguing that it would cut too much, and 85 voted yes, signaling their support for spending cuts and a desire to avoid a shutdown. 

"The majority is reading from a very familiar script that imposes budgetary pain on vulnerable communities that can least afford these hits," said Rep. Barbara Lee (D., Calif.), who opposed the bill.

Republicans voting against the short-term measure included Reps. Jeff Flake of Arizona, an influential fiscal conservative, and Jim Jordan of Ohio, who heads the Republican Study Committee, a group of conservatives that comprises a majority of House Republicans.

President Obama has said he favors spending cuts but opposes reducing federal funding for education and research.

 Write to  Naftali Bendavid at naftali.bendavid@wsj.com 